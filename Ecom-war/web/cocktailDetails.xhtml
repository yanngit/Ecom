<ui:composition template="template/common/commonLayout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:c="http://java.sun.com/jsp/jstl/core">
    <ui:define name="title">#{dataManagedBean.currentCocktail.name}</ui:define>
    <ui:define name="content">
        <!-- Display an image, left-aligned, cocktail name and other info on
        the right side -->
        <div class="media">
            <div class="pull-left media-object span2">
                <h:form>
                    <div class="text-center">
                        <img src="resources/img/#{dataManagedBean.currentCocktail.photoURIName}_large.#{dataManagedBean.currentCocktail.photoURIExt}"
                             alt="Photo du cocktail #{dataManagedBean.currentCocktail.name}"/>
                        <p/>
                        <h:commandButton image="#{resource['img:cart.png']}"
                                         alt="Ajouter le cocktail au panier"
                                         styleClass="btn btn-large #{dataManagedBean.currentCocktail.available ? '' : 'disabled'}"
                                         title="Ajouter le cocktail au panier"
                                         action="#{dataManagedBean.addArticleToCart(dataManagedBean.currentCocktail)}"
                                         value="Acheter - #{dataManagedBean.currentCocktail.price} €">
                        </h:commandButton><br />
                        <h:inputText alt="Nombre de cocktails à ajouter au panier"
                                     maxlength="3"
                                     value="#{dataManagedBean.qty}"
                                     styleClass="input-mini-plus"
                                     title="Nombre de cocktails à ajouter au panier" />
                    </div>
                </h:form>
            </div>
            <div class="media-body">
                <h1 class="media-heading">
                    #{dataManagedBean.currentCocktail.name}
                </h1>
                <div class="well">
                    <dl class="dl-horizontal">
                        <dt>Prix :</dt>
                        <dd>#{dataManagedBean.currentCocktail.price} €</dd>
                        <dt>Goût :</dt>
                        <dd>#{dataManagedBean.currentCocktail.flavor.toString()}</dd>
                        <dt>Puissance :</dt>
                        <dd>#{dataManagedBean.currentCocktail.power.toString()}</dd>
                        <dt/><dd/>
                        <dt>Composition :</dt>
                        <dd>
                            <ul class="unstyled">
                                <ui:repeat value="#{dataManagedBean.currentCocktail.deliverables}"
                                           var='product'>
                                    <li>
                                        #{product.name}
                                    </li>
                                </ui:repeat>
                            </ul>
                        </dd>
                    </dl>
                </div>
                <h2>Recette :</h2>
                <p class="well cocktail-recipe">
                    #{dataManagedBean.currentCocktail.recipe}
                </p>
            </div>
        </div>
    </ui:define>
</ui:composition>

